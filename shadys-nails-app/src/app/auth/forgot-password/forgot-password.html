<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <h1 class="logo"> Shady's Nails</h1>
            <p class="subtitle">Recuperaci贸n de Contrase帽a</p>
        </div>

        <div class="loading-overlay" *ngIf="loading">
            <div class="spinner"></div>
        </div>

        <!-- PASO 1: Ingresar Email -->
        <div *ngIf="step === 1" class="auth-form-container">
            <p class="info-text">Ingresa tu correo electr贸nico y te enviaremos un c贸digo para restablecer tu contrase帽a.
            </p>

            <div class="form-group">
                <label for="email">Correo Electr贸nico</label>
                <input type="email" id="email" [(ngModel)]="email" placeholder="ejemplo@correo.com"
                    class="form-control">
            </div>

            <button class="btn-primary" (click)="onRequestCode()" [disabled]="!email || loading">
                Enviar C贸digo
            </button>
            <div class="auth-footer">
                <a routerLink="/login">Volver al inicio de sesi贸n</a>
            </div>
        </div>

        <!-- PASO 2: Ingresar C贸digo y Nueva Clave -->
        <div *ngIf="step === 2" class="auth-form-container">
            <p class="info-text">Hemos enviado un c贸digo a <strong>{{email}}</strong>. Por favor ingr茅salo abajo junto
                con tu nueva contrase帽a.</p>

            <div class="form-group">
                <label for="code">C贸digo de 6 d铆gitos</label>
                <input type="text" id="code" [(ngModel)]="code" placeholder="123456" class="form-control code-input"
                    maxlength="6">
            </div>

            <div class="form-group">
                <label for="password">Nueva Contrase帽a</label>
                <input type="password" id="password" [(ngModel)]="newPassword" placeholder="M铆nimo 6 caracteres"
                    class="form-control">
            </div>

            <div class="form-group">
                <label for="confirmPassword">Confirmar Nueva Contrase帽a</label>
                <input type="password" id="confirmPassword" [(ngModel)]="confirmPassword"
                    placeholder="Repite la contrase帽a" class="form-control">
            </div>

            <button class="btn-primary" (click)="onResetPassword()" [disabled]="!isValidReset() || loading">
                Actualizar Contrase帽a
            </button>

            <div class="auth-footer">
                <button class="btn-link" (click)="step = 1">驴No recibiste el c贸digo? Intentar de nuevo</button>
            </div>
        </div>

    </div>
</div>